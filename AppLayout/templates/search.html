[[extend 'layout.html']]
<div id="vue-target">
    <section>
    <div class="columns is-mobile is-centered">
        <div class="column is-two-thirds">
        <div class="rows">
        <div class="row">
            <div class="columns is-mobile">
                [[for i in range(6):]]
                    [[if coverList[i] != "x": ]]
                        <div class="column album_box">
                            <a href="[[=URL('user', userID, 'edit', i, signer=url_signer)]]">
                                <figure class="image">
                                    <img src="[[=(coverList[i])]]" style="width:128px">
                                </figure>
                            </a>
                        </div>
                    [[else:]]
                    <div class="column album_box">
                        <a href="[[=URL('user', userID, 'edit', i, signer=url_signer)]]">
                            <figure class="image">
                                <img src="https://bulma.io/images/placeholders/128x128.png" style="width:128px">
                            </figure>
                        </a>
                    </div>
                    [[pass]]
                [[pass]]
            </div>
        </div>

        <div class="row">
            <div class="columns is-mobile">
                [[for i in range(6, 12):]]
                    [[if coverList[i] != "x": ]]
                        <div class="column album_box">
                            <a href="[[=URL('user', userID, 'edit', i, signer=url_signer)]]">
                                <figure class="image">
                                    <img src="[[=(coverList[i])]]" style="width:128px">
                                </figure>
                            </a>
                        </div>
                    [[else:]]
                    <div class="column album_box">
                        <a href="[[=URL('user', userID, 'edit', i, signer=url_signer)]]">
                            <figure class="image">
                                <img src="https://bulma.io/images/placeholders/128x128.png" style="width:128px">
                            </figure>
                        </a>
                    </div>
                    [[pass]]
                [[pass]]
            </div>
        </div>
        </div>
        </div>
        </div>
        </section>
<section>
    <div>
        <br>
        <h1 class="title has-text-centered">
            Search For Cover Art
        </h1>
    </div>
    <form action="[[=URL('user', userID, 'edit', squareNumber)]]" method="POST">
        <div class="container">
            <br>
            <div class="field">
                <input class="input" type="text" name="Search" placeholder="Enter an album or artist" />
                <input type="submit" class="button" value="Search" />
                <button class="button is-danger" @click="save_album('x', 'x', '[[=(squareNumber)]]')">Clear Album</button>
                <button class="button" href="[[=URL(userPage)]]">Done</button>
            </div>
        </div>
    </form>

</section>

[[if trackLinks != "":]]
<br>
    <div class="container">
    [[for i in range(len(trackLinks)):]]
        <div class="tile is-child box"> 
            <!-- Panel title -->
                <!-- For each top song -->
                <section>
                    <a @click="save_album('[[=(trackLinks[i])]]', '[[=(imgList[i])]]', '[[=(squareNumber)]]')">
                        <div class="columns">
                            <div class="column">
                                <!-- Album art image with link to track -->
                                <img src=[[=(imgList[i])]] width="64" height="64">
                            </div>
                            <div class="column is-9">
                                <div>
                                    <!-- Song title with link to track -->
                                    <span target="_blank" style="color:#000000"><strong>[[=(topAlbums[i])]]</strong></span>
                                </div>
                                <div>
                                    <!-- Artist name with link to their Spotify page -->
                                    <span target="_blank" style="color:#000000">[[=(topArtists[i])]]</span>
                                </div>
                            </div>
                        </div>
                    </a>
                </section>
        </div>
    [[pass]]
    </div>
[[pass]]
</div>
[[block page_scripts]]
<script>
    let inputAlbum = "[[=XML(inputAlbum)]]";
    let profileURL = "[[=XML(profileURL)]]";
</script>
<!-- Loads the user-specific js for Vue -->
<script src="js/search.js"></script>
[[end]]
