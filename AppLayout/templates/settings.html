[[extend 'layout.html']]
 
<section>
   <div class="settings_panel panel_spec" style="background-color: white;">
        <figure class="image is-128x128 profile_photo settings_pfp">
            [[if (profile_pic != ""):]]
            <img class="is-rounded" src="[[=(profile_pic)]]">
            [[else:]]
            <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
            [[pass]]
        </figure>
        <br>
        <br>
        <br>
        <p style="color:#221B1B;" class="labels">Share My Profile</p>
        <input type="text" value="[[=(profileURL)]]" id="myInput" style="width: 50%;">
        <button onclick="myFunction()"><i class="fas fa-clipboard"></i></button>
        <br>
        <br>
        <br>
        <div style="width: 100%;">
            <div v-if="true" @click="isEditingBio = 1" class="control is-small">
                <textarea class="textarea" placeholder="Bio and Status" 
                            name="bio&stat" id="bio&stat" v-model="bio">
                </textarea>
            </div>
            <br>
            <nav class="level is-mobile">
                <!--Filler level left because I believe Bulma needs this. Might be unnecessary-->
                <div class="level-left"></div>
                <div class="level-right">
                    <!-- Save button -->
                    <div v-if="isEditingBio === 1" class="level-item">
                        <button @click="save_bio(bio)" class="button is-primary">
                            <i class="fa fa-check-square" aria-hidden="true"></i></button></div>
                    <!-- Cancel edit button MIGHT BRING ERRORS IF CANCELED AT A BAD TIME-->
                    <div v-if="isEditingBio === 1" class="level-item">
                        <button @click="cancel_bio" class="button is-danger">
                            <i class="fa fa-window-close" aria-hidden="true"></i></button></div>
                </div>
            </nav>
        </div>
        <a class="button is-danger" href="[[=URL('deleteProfile', userID, signer=url_signer)]]">
            Delete My Profile
        </a>
   </div>
</section>

<script>
    function myFunction() {
        var copyText = document.getElementById("myInput");
        copyText.select();
        copyText.setSelectionRange(0, 99999)
        document.execCommand("copy");
        alert("Copied the text: " + copyText.value);
}
</script>